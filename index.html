<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <link rel="stylesheet" href="/src/styles.css" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ogier EPUB Reader</title>
  <script type="module" src="/src/my-modal.ts"></script>
  <script type="module" src="/src/main.ts" defer></script>
</head>

<body id="og-body">
  <div id="og-click-to-open" style="visibility: hidden;">
    Click or drag-drop EPUB here
  </div>
  <div id="og-frame" style="display: none;">
    <div id="og-reader-host"></div>
    <footer id="og-footer">
      <button id="og-toc-button" class="og-starting-icon">
        <img src="/src/assets/fluent/book_24_regular.svg">
        <span id="og-toc-button-label">Table of contents</span>
      </button>
      <span id="og-spine-position"></span>
      <div id="og-customization">
        <label class="og-starting-icon">
          <img src="/src/assets/fluent/text_font_size_24_regular.svg">
          <input type="number" id="og-customization-base-font-size" min="8" max="72" step="1" value="16">
        </label>
        <label class="og-starting-icon">
          <img src="/src/assets/fluent/text_line_spacing_24_regular.svg">
          <input type="number" id="og-customization-line-height-scale" min="2" max="60" step="1" value="10">
        </label>
        <label class="og-starting-icon">
          <img src="/src/assets/fluent/document_margins_24_regular.svg">
          <input type="number" id="og-customization-inline-margin" min="0" max="45" step="1" value="0">
        </label>
      </div>
    </footer>
    <my-modal id="og-toc-modal">
      <span id="og-toc-modal-heading" slot="in-header"></span>
      <nav id="og-toc-nav">Loading...</nav>
    </my-modal>
    <my-modal id="og-preview-modal">
      <button id="og-preview-go-there" slot="in-header">Go there</button>
      <div id="og-preview-div"></div>
    </my-modal>
    <my-modal id="og-details-modal">
      <div id="og-details-div">
        <figure>
          <img id="og-details-cover" alt="cover">
          <figcaption>Book Cover Unavailable</figcaption>
        </figure>
        <div>
          <details name="og-details" open>
            <summary>Book info</summary>
            <dl id="og-details-book"></dl>
          </details>
          <details name="og-details">
            <summary>EPUB metadata</summary>
            <pre id="og-details-metadata"></pre>
          </details>
          <details name="og-details">
            <summary>File info</summary>
            <dl id="og-details-file"></dl>
          </details>
        </div>
      </div>
    </my-modal>
  </div>

  <template id="og-templ-my-modal">
    <style>
      dialog {
        padding: 0;
      }

      form {
        max-height: 80vh;
        padding: 0.8rem;
        display: flex;
        flex-direction: column;
      }

      form>header {
        flex: 0 0;
        display: flex;
        justify-content: space-between;
      }

      form>div {
        flex: 1 1 auto;
        overflow: auto;
      }
    </style>
    <dialog>
      <form method="dialog">
        <header>
          <slot name="in-header"></slot>
          <button value="">âœ–</button>
        </header>
        <div>
          <slot></slot>
        </div>
      </form>
    </dialog>
  </template>
</body>

</html>
